"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decorateMethodsOf = void 0;
const Store_js_1 = require("../../domain/Store.js");
const classOf_js_1 = require("../objects/classOf.js");
const descriptorOf_js_1 = require("../objects/descriptorOf.js");
const methodsOf_js_1 = require("../objects/methodsOf.js");
const prototypeOf_js_1 = require("../objects/prototypeOf.js");
function decorateMethodsOf(klass, decorator) {
    (0, methodsOf_js_1.methodsOf)(klass).forEach(({ target, propertyKey }) => {
        const proto = (0, prototypeOf_js_1.prototypeOf)(klass);
        if (target !== (0, classOf_js_1.classOf)(klass)) {
            Object.defineProperty(proto, propertyKey, {
                writable: true,
                configurable: true,
                value(...args) {
                    return (0, prototypeOf_js_1.prototypeOf)(target)[propertyKey].apply(this, args);
                }
            });
            Store_js_1.Store.mergeStoreMethodFrom(klass, target, propertyKey);
        }
        const newDescriptor = decorator(proto, propertyKey, (0, descriptorOf_js_1.descriptorOf)(klass, propertyKey));
        if (newDescriptor) {
            Object.defineProperty(proto, propertyKey, newDescriptor);
        }
    });
}
exports.decorateMethodsOf = decorateMethodsOf;
//# sourceMappingURL=decorateMethodsOf.js.map