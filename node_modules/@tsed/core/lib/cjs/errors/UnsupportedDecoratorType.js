"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnsupportedDecoratorType = void 0;
const decoratorTypeOf_js_1 = require("../utils/decorators/decoratorTypeOf.js");
const classOf_js_1 = require("../utils/objects/classOf.js");
const nameOf_js_1 = require("../utils/objects/nameOf.js");
class UnsupportedDecoratorType extends Error {
    constructor(decorator, args) {
        super(UnsupportedDecoratorType.buildMessage(decorator, args));
    }
    static buildMessage(decorator, args) {
        const [target, propertyKey, index] = args;
        const bindingType = (0, decoratorTypeOf_js_1.decoratorTypeOf)(args);
        const shortBinding = bindingType.split("/")[0];
        const param = shortBinding === "parameter" ? ".[" + index + "]" : "";
        const cstr = shortBinding === "parameter" ? ".constructor" : "";
        const method = propertyKey ? "." + propertyKey : cstr;
        const path = (0, nameOf_js_1.nameOf)((0, classOf_js_1.classOf)(target)) + method + param;
        return `${decorator.name} cannot be used as ${bindingType} decorator on ${path}`;
    }
}
exports.UnsupportedDecoratorType = UnsupportedDecoratorType;
//# sourceMappingURL=UnsupportedDecoratorType.js.map