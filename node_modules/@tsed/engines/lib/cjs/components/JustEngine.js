"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.JustEngine = void 0;
const tslib_1 = require("tslib");
const util_1 = require("util");
const viewEngine_js_1 = require("../decorators/viewEngine.js");
const Engine_js_1 = require("./Engine.js");
let JustEngine = class JustEngine extends Engine_js_1.Engine {
    $compile(template, options) {
        const JUST = this.engine;
        const engine = new JUST({ root: { page: template } });
        const compile = (0, util_1.promisify)(engine.render.bind(engine));
        return (options) => compile("page", options);
    }
    $compileFile(file, options) {
        const JUST = this.engine;
        const engine = new JUST(options);
        engine.configure({ useCache: options.cache });
        const compile = (0, util_1.promisify)(engine.render.bind(engine));
        return Promise.resolve((options) => compile(file, options));
    }
};
JustEngine = tslib_1.__decorate([
    (0, viewEngine_js_1.ViewEngine)("just")
], JustEngine);
exports.JustEngine = JustEngine;
//# sourceMappingURL=JustEngine.js.map