import { PlatformHandler } from "@tsed/common";
import { isFunction, isStream } from "@tsed/core";
import { promisify } from "util";
export class PlatformExpressHandler extends PlatformHandler {
    onResponse(response, $ctx) {
        super.onResponse(response, $ctx);
        // call returned middleware
        if (isFunction($ctx.data) && !isStream($ctx.data)) {
            return promisify($ctx.data)($ctx.getRequest(), $ctx.getResponse());
        }
    }
}
//# sourceMappingURL=PlatformExpressHandler.js.map