"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Module = void 0;
const core_1 = require("@tsed/core");
const ProviderScope_js_1 = require("../domain/ProviderScope.js");
const configuration_js_1 = require("./configuration.js");
const injectable_js_1 = require("./injectable.js");
const ProviderType_js_1 = require("../domain/ProviderType.js");
/**
 * Declare a new Ts.ED module
 *
 * ## Options
 * - imports: List of Provider which must be built by injector before invoking the module
 * - resolvers: List of external DI must be used to resolve unknown provider
 * - deps: List of provider must be injected to the module constructor (explicit declaration)
 *
 * @param options
 * @decorator
 */
function Module(options = {}) {
    const { scopes, imports, resolvers, deps, scope, ...configuration } = options;
    return (0, core_1.useDecorators)((0, configuration_js_1.Configuration)(configuration), (0, injectable_js_1.Injectable)({
        type: ProviderType_js_1.ProviderType.MODULE,
        scope: ProviderScope_js_1.ProviderScope.SINGLETON,
        imports,
        deps,
        injectable: false,
        resolvers
    }));
}
exports.Module = Module;
//# sourceMappingURL=module.js.map