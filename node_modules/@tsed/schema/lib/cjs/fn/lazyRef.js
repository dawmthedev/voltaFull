"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lazyRef = void 0;
const JsonEntityStore_js_1 = require("../domain/JsonEntityStore.js");
const JsonLazyRef_js_1 = require("../domain/JsonLazyRef.js");
/**
 * Declare a sub schema which will be resolved later. Use this function when you have a circular reference between two schemes.
 */
function lazyRef(cb) {
    try {
        // solve issue with a self referenced model
        if (cb()) {
            // type is already accessible
            return JsonEntityStore_js_1.JsonEntityStore.from(cb()).schema;
        }
    }
    catch (er) { }
    return new JsonLazyRef_js_1.JsonLazyRef(cb);
}
exports.lazyRef = lazyRef;
//# sourceMappingURL=lazyRef.js.map