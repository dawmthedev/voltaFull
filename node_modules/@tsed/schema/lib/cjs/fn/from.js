"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.from = void 0;
const core_1 = require("@tsed/core");
const JsonSchema_js_1 = require("../domain/JsonSchema.js");
const getJsonEntityStore_js_1 = require("../utils/getJsonEntityStore.js");
/**
 * Create a new model from the given type.
 *
 * ```typescript
 * from(String)
 * ```
 *
 *  * See @@JsonSchema@@ to discover available methods.
 *
 * @schemaFunctional
 */
function from(type = Object) {
    if ((0, core_1.isClass)(type)) {
        const { schema } = (0, getJsonEntityStore_js_1.getJsonEntityStore)(type);
        schema.properties = function properties(obj) {
            Object.entries(obj).forEach(([propertyKey, propSchema]) => {
                (0, getJsonEntityStore_js_1.getJsonEntityStore)(type.prototype, propertyKey).schema.assign(propSchema);
            });
            return this;
        };
        return schema;
    }
    return JsonSchema_js_1.JsonSchema.from({ type });
}
exports.from = from;
//# sourceMappingURL=from.js.map