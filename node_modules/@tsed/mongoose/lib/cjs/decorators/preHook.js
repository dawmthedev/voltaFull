"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PreHook = void 0;
const core_1 = require("@tsed/core");
const schemaOptions_js_1 = require("../utils/schemaOptions.js");
function PreHook(method, ...decoratorArgs) {
    return (...args) => {
        if ((0, core_1.decoratorTypeOf)(args) === core_1.DecoratorTypes.METHOD_STC) {
            (0, schemaOptions_js_1.schemaOptions)(args[0], {
                pre: [
                    {
                        method,
                        fn: args[0][args[1]].bind(args[0]),
                        options: decoratorArgs[0]
                    }
                ]
            });
        }
        else {
            (0, schemaOptions_js_1.schemaOptions)(args[0], {
                pre: [
                    {
                        method,
                        fn: decoratorArgs[0],
                        options: decoratorArgs[1]
                    }
                ]
            });
        }
    };
}
exports.PreHook = PreHook;
//# sourceMappingURL=preHook.js.map