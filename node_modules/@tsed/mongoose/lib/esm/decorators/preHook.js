import { decoratorTypeOf, DecoratorTypes } from "@tsed/core";
import { schemaOptions } from "../utils/schemaOptions.js";
export function PreHook(method, ...decoratorArgs) {
    return (...args) => {
        if (decoratorTypeOf(args) === DecoratorTypes.METHOD_STC) {
            schemaOptions(args[0], {
                pre: [
                    {
                        method,
                        fn: args[0][args[1]].bind(args[0]),
                        options: decoratorArgs[0]
                    }
                ]
            });
        }
        else {
            schemaOptions(args[0], {
                pre: [
                    {
                        method,
                        fn: decoratorArgs[0],
                        options: decoratorArgs[1]
                    }
                ]
            });
        }
    };
}
//# sourceMappingURL=preHook.js.map